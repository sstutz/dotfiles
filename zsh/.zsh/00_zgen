# Clone zgen if you haven't already
if [ ! -d ~/dotfiles/zsh/zgen ]; then
    pushd ~
    git clone git@github.com:tarjoilija/zgen.git dotfiles/zsh/zgen
    popd
fi

# load zgen
source "$HOME/dotfiles/zsh/zgen/zgen.zsh"

# check if there's no init script
if ! zgen saved; then
    zgen oh-my-zsh

    zgen oh-my-zsh themes/devbox

    zgen oh-my-zsh plugins/git

    zgen oh-my-zsh plugins/git-flow-avh

    zgen load StackExchange/blackbox

    zgen load unixorn/git-extra-commands

    zgen load supercrabtree/k

    zgen load zsh-users/zsh-completions src

    # Automatically run zgen update and zgen selfupdate every 7 days
    zgen load unixorn/autoupdate-zgen

    zgen load unixorn/jpb.zshplugin

    zgen load chrissicool/zsh-256color

    # Fish shell like syntax highlighting for Zsh
    zgen load zsh-users/zsh-syntax-highlighting

    zgen save
fi

